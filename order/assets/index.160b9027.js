var j=Object.defineProperty,A=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var C=(a,n,t)=>n in a?j(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,v=(a,n)=>{for(var t in n||(n={}))q.call(n,t)&&C(a,t,n[t]);if(L)for(var t of L(n))O.call(n,t)&&C(a,t,n[t]);return a},N=(a,n)=>A(a,H(n));import{r as h,j as k,I as B,a as F,b as R,c as E,d as P}from"./vendor.2c04849c.js";const G=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))m(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function m(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}};G();function K(a,n){const[t,m]=h.exports.useState(function(){const l=localStorage.getItem(n);return l?JSON.parse(l):a});return h.exports.useEffect(function(){localStorage.setItem(n,JSON.stringify(t))},[t,n]),[t,m]}const e=k.exports.jsx,r=k.exports.jsxs,x=k.exports.Fragment,W=[{id:1,menu:"Originals",description:"Kopi yang diracik dengan suhu dingin dicampur susu dengan manis yang unik",img:"https://images.unsplash.com/photo-1624030609819-e2a4b1d5aebf?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",price:15e3},{id:2,menu:"Creamy",description:"Kopi yang diracik dengan suhu dingin dicampur susu dengan manis yang creamy",img:"https://images.unsplash.com/photo-1504753793650-d4a2b783c15e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1972&q=80",price:15e3},{id:3,menu:"Mocha",description:"Kopi yang diracik dengan suhu dingin dicampur susu dengan hint cokelat",img:"https://images.unsplash.com/photo-1517701550927-30cf4ba1dba5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",price:15e3},{id:4,menu:"Aren",description:"Kopi yang diracik dengan suhu dingin dicampur susu dengan manis gula aren",img:"https://images.unsplash.com/photo-1658043186384-7add63d278fd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",price:15e3}];function _(){const[a,n]=K([],"carts"),[t,m]=h.exports.useState(""),[l,i]=h.exports.useState(""),[d,f]=h.exports.useState(""),b=W,c=a.reduce((s,o)=>s+o.qty,0),y=a.reduce((s,o)=>s+o.price*o.qty,0);let w=a.reduce((s,o)=>`${s}${o.menu} (Espresso: ${o.espressoLevel}, Sugar: ${o.sugarLevel}) ${o.qty}: Rp. ${new Intl.NumberFormat("id-ID").format(o.price*o.qty)}
`,`Order details:

Nama: ${t}
Alamat: ${l}
Pembayaran: ${d}

`);w+=`Ongkos kirim: Rp. ${new Intl.NumberFormat("id-ID").format(1e4)}

`,w+=`Total Harga (${c} barang): Rp. ${new Intl.NumberFormat("id-ID").format(y+1e4)}`;function D(s){n(o=>{const g=o.find(u=>u.id===s.id&&u.sugarLevel===s.sugarLevel&&u.espressoLevel===s.espressoLevel||u.id===`${s.id},${s.sugarLevel},${s.espressoLevel}`);return console.log(g),console.log(a),g?o.map(u=>u.id===s.id&&u.sugarLevel===s.sugarLevel||u.id===`${s.id},${s.sugarLevel},${s.espressoLevel}`?N(v({},u),{id:`${s.id},${s.sugarLevel},${s.espressoLevel}`,qty:u.qty+1}):u):[...o,N(v({},s),{id:`${s.id},${s.sugarLevel},${s.espressoLevel}`,espressoLevel:s.espressoLevel,sugarLevel:s.sugarLevel,qty:1})]})}function $(){confirm("Apakah anda yakin untuk menghapus keranjang?")&&n([])}function I(s){n(o=>o.filter(g=>g.id!==s))}function S(s,o){n(g=>g.map(p=>{if(console.log(p.id,s.id),p.id===s.id&&p.sugarLevel===s.sugarLevel||p.id===s.id){const M=o==="increase"?p.qty+1:p.qty-1;return N(v({},p),{qty:Math.max(M,0)})}return p}).filter(p=>p.qty>0))}return e("div",{className:"App container pt-4",style:{minHeight:"100vh"},children:r("div",{className:"row",children:[e(T,{children:b.map(s=>e(V,{menu:s,onAddCart:D},s.id))}),r("div",{className:"col-md-4",children:[e(Y,{carts:a,onHandleQtyCart:S,onDeleteCarts:$,onDeleteCart:I,numItems:c,totalPrice:y}),e(z,{carts:a,numItems:c,totalPrice:y,message:w,fullName:t,address:l,payment:d,setFullName:m,setAddress:i,setPayment:f})]})]})})}function T({children:a}){return r("div",{className:"col-md-8",children:[e("h2",{className:"mb-3",children:"Kafeins Menu"}),e("div",{children:a})]})}function V({menu:a,onAddCart:n}){const[t,m]=h.exports.useState(0),[l,i]=h.exports.useState("Single shot"),[d,f]=h.exports.useState("normal");function b(){m(!t)}return e("div",{className:"card mb-3",children:r("div",{className:"card-body p-3",children:[r("div",{className:"d-flex justify-content-between flex-column flex-md-row mb-2 mb-md-0",children:[r("div",{className:"me-0 me-md-3",children:[e("img",{className:"mb-2",style:{maxHeight:"240px"},src:a.img}),e("h2",{className:"fw-medium mb-1 mb-md-2",children:a.menu}),e("p",{className:"text-secondary mb-2",children:a.description}),t?r(x,{children:[r("div",{className:"mb-2",children:[e("div",{className:"form-label",children:"Espresso"}),r("div",{children:[r("label",{className:"form-check",children:[e("input",{className:"form-check-input cursor-pointer",type:"radio",name:`espresso-${a.id}`,value:"Single shot",checked:l==="Single shot",onChange:c=>i(c.target.value)}),e("span",{className:"form-check-label cursor-pointer",children:"Single shot"})]}),r("label",{className:"form-check",children:[e("input",{className:"form-check-input cursor-pointer",type:"radio",name:`espresso-${a.id}`,value:"Double shot",checked:l==="Double shot",onChange:c=>i(c.target.value)}),e("span",{className:"form-check-label cursor-pointer",children:"Double shot"})]})]})]}),r("div",{className:"mb-2",children:[e("div",{className:"form-label",children:"Sugar"}),r("div",{children:[r("label",{className:"form-check",children:[e("input",{className:"form-check-input cursor-pointer",type:"radio",name:`sugar-${a.id}`,value:"normal",checked:d==="normal",onChange:c=>f(c.target.value)}),e("span",{className:"form-check-label cursor-pointer",children:"Normal"})]}),r("label",{className:"form-check",children:[e("input",{className:"form-check-input cursor-pointer",type:"radio",name:`sugar-${a.id}`,value:"half",checked:d==="half",onChange:c=>f(c.target.value)}),e("span",{className:"form-check-label cursor-pointer",children:"Half"})]}),r("label",{className:"form-check",children:[e("input",{className:"form-check-input cursor-pointer",type:"radio",name:`sugar-${a.id}`,value:"less",checked:d==="less",onChange:c=>f(c.target.value)}),e("span",{className:"form-check-label cursor-pointer",children:"Less"})]})]})]})]}):null]}),e("p",{onClick:b,className:"fw-medium text-secondary mb-0 d-flex align-items-center cursor-pointer ",style:{alignSelf:"flex-start"},children:t?e("small",{children:"Show less"}):r(x,{children:[e(B,{className:"icon me-1"}),e("small",{children:"Customize"})]})})]}),r("div",{className:"d-flex justify-content-between align-items-center",children:[r("h2",{className:"fw-medium mb-0 d-none d-md-block",style:{minWidth:"120px"},children:["Rp. ",new Intl.NumberFormat("id-ID").format(a.price)]}),r("h3",{className:"fw-medium mb-0 d-block d-md-none",style:{minWidth:"96px"},children:["Rp. ",new Intl.NumberFormat("id-ID").format(a.price)]}),r("button",{onClick:()=>n(N(v({},a),{sugarLevel:d,espressoLevel:l})),className:"btn btn-primary",children:[e(F,{className:"icon"}),"Keranjang"]})]})]})})}function Y({carts:a,onHandleQtyCart:n,onDeleteCarts:t,onDeleteCart:m,numItems:l,totalPrice:i}){return r(x,{children:[r("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e("h2",{className:"mb-0",children:"Keranjang"}),e("p",{className:"text-primary fw-medium cursor-pointer mb-0",onClick:t,children:"Hapus"})]}),e("div",{className:"card mb-3",children:r("div",{className:"card-body p-3",children:[a.map(d=>e(J,{cart:d,onHandleQtyCart:n,onDeleteCart:m},d.id)),r("div",{className:"d-flex justify-content-between flex-row flex-md-column flex-lg-row",children:[r("p",{className:"mb-0",children:["Total Harga (",l," barang)"]}),r("p",{className:"mb-0",children:["Rp. ",new Intl.NumberFormat("id-ID").format(i)]})]})]})})]})}function z({carts:a,message:n,fullName:t,address:m,payment:l,setFullName:i,setAddress:d,setPayment:f}){h.exports.useEffect(()=>{},[t,m,l]);function b(){if(t===""||m===""||l==="")return alert("Silakan lengkapi formulir pesanan terlebih dahulu");window.open(`https://api.whatsapp.com/send/?phone=628112819981&text=${encodeURIComponent(n)}`)}return r(x,{children:[e("h2",{className:"mb-3",children:"Pesan"}),e("div",{className:"card mb-3",children:r("div",{className:"card-body p-3",children:[e("div",{className:"mb-3",children:e("input",{type:"text",className:"form-control",placeholder:"Nama Lengkap...",value:t,onChange:c=>i(c.target.value)})}),e("div",{className:"mb-3",children:e("input",{type:"text",className:"form-control",placeholder:"Alamat...",value:m,onChange:c=>d(c.target.value)})}),e("div",{className:"mb-0",children:e("input",{type:"text",className:"form-control",placeholder:"Metode Pembayaran (ex: Transfer Bank Mandiri)",value:l,onChange:c=>f(c.target.value)})}),a.length>0?r("button",{onClick:b,className:"btn btn-success w-100 mt-3",children:[e(R,{className:"icon"}),"Order via WhatsApp"]}):null]})})]})}function J({cart:a,onHandleQtyCart:n,onDeleteCart:t}){return r("div",{className:"d-flex justify-content-between mb-3",children:[r("div",{className:" ",children:[e("h3",{className:"fw-medium mb-0",children:a.menu}),e("p",{className:"text-capitalize mb-1",children:r("small",{children:["Espresso: ",e("span",{className:"fw-medium",children:a.espressoLevel}),", Sugar: ",e("span",{className:"fw-medium",children:a.sugarLevel})]})}),r("p",{className:"fw-bold mb-0",children:["Rp. ",new Intl.NumberFormat("id-ID").format(a.price)]})]}),e("div",{className:"d-flex align-items-end",children:r("div",{className:"d-flex align-items-center",children:[e("span",{className:"text-secondary border-0 me-3 cursor-pointer",onClick:()=>t(a.id),children:e(E,{size:24})}),e("button",{onClick:()=>n(a,"decrease"),className:"btn btn-sm btn-outline-primary fw-bold",children:"\u2212"}),e("span",{className:"mx-3",children:a.qty}),e("button",{onClick:()=>n(a,"increase"),className:"btn btn-sm btn-outline-primary fw-bold",children:"+"})]})})]})}const Q=document.getElementById("root"),U=P(Q);U.render(e(h.exports.StrictMode,{children:e(_,{})}));
